<page-header [title]="'查询表格'"></page-header>
<nz-card [nzBordered]="false">
    <form nz-form [nzLayout]="'inline'" class="search__form">
        <div nz-row [nzGutter]="{ xs: 8, sm: 8, md: 8, lg: 24, xl: 48, xxl: 48 }">
            <div nz-col nzMd="4" nzSm="24">
                <nz-form-item>
                    <nz-form-control>
                        <input nz-input [(ngModel)]="q.keyword" name="no" placeholder="请输入" id="no">
                    </nz-form-control>
                </nz-form-item>
            </div>
            <button nz-button type="submit" [nzType]="'primary'" (click)="getData()" [nzLoading]="loading">查询</button>

            <nz-dropdown [nzPlacement]="'bottomLeft'" style="float:right;margin-right: 20px;">
                <button nz-button nz-dropdown>
                    更多操作
                    <i nz-icon type="down"></i>
                </button>
                <ul nz-menu>
                    <li nz-menu-item (click)="removeAll()">批量删除</li>
                    <li nz-menu-item (click)="approval()">批量审批</li>
                </ul>
            </nz-dropdown>

            <button nz-button (click)="add(modalAdd)" [nzType]="'primary'" style="float:right;margin-right: 20px;">
                <i nz-icon type="plus"></i>
                <span>新建</span>
            </button>
        </div>
    </form>
    <st #st [columns]="columns" [data]="data" [loading]="loading" (change)="stChange($event)">
    </st>
</nz-card>
<!-- 新建模板 -->
<ng-template #modalAdd>
    <nz-form-item>
        <nz-form-label nzFor="no">描述</nz-form-label>
        <nz-form-control>
            <input nz-input [(ngModel)]="description" name="description" placeholder="请输入" id="no">
        </nz-form-control>
    </nz-form-item>
</ng-template>
<!-- 查看 -->
<ng-template #modalShowDetils>
    <nz-form-item>
        <nz-form-label nzFor="no">描述</nz-form-label>
        <nz-form-control>
            <input nz-input [(ngModel)]="description" name="description" placeholder="请输入" id="no">
        </nz-form-control>
    </nz-form-item>
</ng-template>